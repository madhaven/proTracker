import{$ as q,A as vt,B as yt,Bb as he,C as G,D as M,E as bt,F as Ct,G as ke,H as p,I as wt,J as D,K as u,L as c,M as _,N as P,O as m,P as y,Q as ye,R as St,S as U,T as W,U as $,V as A,W as v,X as H,Y as K,Z as Y,_ as Z,a as T,aa as g,b as le,ba as Mt,c as O,ca as z,d as ft,da as Q,e as gt,ea as Vt,f as _t,fa as It,g as ie,ga as Ze,h as I,ha as Xe,hb as de,i as Je,ia as x,ib as Te,j as ce,ja as L,jb as Ee,k as ne,ka as X,l as De,la as E,m as f,ma as Dt,n as Ke,na as kt,o as j,ob as Tt,p as _e,q as w,r as S,s as re,t as ue,u as ve,v as N,w as R,x as h,y as d,yb as Et,z as Ye}from"./chunk-U4BHRN4Z.js";var Mi=["content"];function Vi(i,e){if(i&1&&(u(0,"div",2),_(1,"div",3,0),c()),i&2){let o=y();h(),wt("width",o.percent,"%")}}var jt=(()=>{let e=class e{constructor(){this.percent=0,this.visible=!0}ngOnChanges(){this.percent==100&&setTimeout(()=>{this.visible=!1},2e3)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["pui-loader"]],viewQuery:function(n,r){if(n&1&&U(Mi,5),n&2){let s;W(s=$())&&(r.content=s.first)}},inputs:{percent:"percent"},standalone:!0,features:[_e,g],decls:1,vars:1,consts:[["content",""],["class","progress_bar_container",4,"ngIf"],[1,"progress_bar_container"],[1,"progress_bar"]],template:function(n,r){n&1&&M(0,Vi,3,2,"div",1),n&2&&p("ngIf",r.visible)},dependencies:[L],styles:["[_nghost-%COMP%]{width:100%}.progress_bar_container[_ngcontent-%COMP%]{width:100%;height:2px;background-color:transparent;text-align:left}.progress_bar[_ngcontent-%COMP%]{transition:.2s ease-out;background-color:var(--fg);height:100%;width:0%;left:0}"]});let i=e;return i})();var je=function(i){return i[i.Idle=0]="Idle",i[i.Waiting=1]="Waiting",i[i.Success=2]="Success",i[i.Failure=3]="Failure",i}(je||{});var k=function(i){return i[i.ShiftToLogsTab=0]="ShiftToLogsTab",i[i.ShiftToHabitsTab=1]="ShiftToHabitsTab",i[i.ShiftToProjectsTab=2]="ShiftToProjectsTab",i[i.MainMenu=3]="MainMenu",i[i.NewEntry=4]="NewEntry",i}(k||{});var Pt=(()=>{let e=class e{constructor(t){this.el=t,this.sus=new N,this.notSus=new N,this.minimumSusTime=1500}onMouseEnter(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.sus.emit()},this.minimumSusTime)}onMouseLeave(){this.timer&&clearTimeout(this.timer),this.notSus.emit()}};e.\u0275fac=function(n){return new(n||e)(d(ve))},e.\u0275dir=j({type:e,selectors:[["","susStuff",""]],hostBindings:function(n,r){n&1&&m("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},outputs:{sus:"onSus",notSus:"onNonSus"},standalone:!0});let i=e;return i})();var oe=function(i){return i[i.TaskLogs=0]="TaskLogs",i[i.Habits=1]="Habits",i[i.Export=2]="Export",i[i.Projects=3]="Projects",i}(oe||{});var J=function(i){return i[i.WONT_DO=0]="WONT_DO",i[i.PENDING=1]="PENDING",i[i.IN_PROGRESS=2]="IN_PROGRESS",i[i.NEED_INFO=3]="NEED_INFO",i[i.COMPLETED=4]="COMPLETED",i[i.WAITING=5]="WAITING",i}(J||{});var ee=function(i){return i.foldedProjects_1_0_0="foldedProjects",i.foldedProjects_2_1_0="key_project_fold_2_0_0",i.browserDataStorage_0_0_0="bds_000",i}(ee||{});var Pe=(()=>{let e=class e{comsCheck(t=!0){var n=!1;try{window.comms&&(n=!0)}finally{return t||console.log(n?"Electron found":"Electron not found"),n}}loadData(){return this.comsCheck()?window.comms.loadData():new Promise((t,n)=>n())}exportData(t){if(this.comsCheck())return window.comms.exportData(t)}newTask(t){if(this.comsCheck())return window.comms.newTask(t)}toggleTask(t,n,r){if(this.comsCheck())return window.comms.toggleTask(t,n,r)}editTask(t){if(this.comsCheck())return window.comms.editTask(t)}editProject(t){if(this.comsCheck())return window.comms.editProject(t)}newHabit(t){if(this.comsCheck())return window.comms.newHabit(t)}editHabit(t){if(this.comsCheck())return window.comms.editHabit(t)}habitDone(t,n){if(this.comsCheck())return window.comms.habitDone(t,n)}deleteHabit(t){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Fe=class{constructor(e,o,t){this.id=e,this.habitId=o,this.dateTime=t}};var Oe=class{constructor(e,o,t){this.id=e,this.name=o,this.tasks=t}};var be=class{constructor(e,o,t,n){this.id=e,this.taskId=o,this.statusId=t,this.dateTime=n}};var Ae=class{constructor(e,o,t,n){this.id=e,this.projectId=o,this.parentId=t,this.summary=n}};var se=class{constructor(e,o,t,n,r,s){this.tasks=e,this.taskLogs=o,this.projects=t,this.habits=n,this.habitLogs=r,this.appVersion=s}};var xe=(()=>{let e=class e{constructor(){vt(()=>{this.localStorage=localStorage})}setItem(t,n){let r=JSON.stringify(n);this.localStorage?.setItem(t,r)}getItem(t){let n=this.localStorage?.getItem(t);return n?JSON.parse(n):null}removeItem(t){this.localStorage?.removeItem(t)}clear(){this.localStorage?.clear()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Le=class{constructor(){this.lsVersion="Lite",this.previousVersion=void 0}read(e){if(!Object.hasOwn(e,"tasks")||!Object.hasOwn(e,"taskLogs")||!Object.hasOwn(e,"projects")||!Object.hasOwn(e,"habits")||!Object.hasOwn(e,"habitLogs")||!Object.hasOwn(e,"lsVersion"))throw Error("Corrupt Data received");var o=new se(e.tasks,e.taskLogs,e.projects,e.habits,e.habitLogs,this.lsVersion);return o}setup(){return new se([],[],[],[],[],this.lsVersion)}getExportableData(e){var o={tasks:e.tasks,taskLogs:e.taskLogs,projects:e.projects,habits:e.habits,habitLogs:e.habitLogs,lsVersion:this.lsVersion};return o}isMatch(e){return this.lsVersion===e}};var At=(()=>{let e=class e{constructor(){this.versions=[new Le]}read(t){var n=t.lsVersion,r=this.getVersionFromString(n);return r.read(t)}getVersionFromString(t){var n=this.versions.findIndex(r=>r.isMatch(t));if(n==-1)throw Error("unrecognized Version"+t);return this.versions[n]}getLatestVersion(){return this.versions[this.versions.length-1]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var xt=(()=>{let e=class e{constructor(t,n){this.tasks=new Map,this.taskLogs=new Map,this.projects=new Map,this.habits=new Map,this.habitLogs=new Map,this.lastId_tasks=-1,this.lastId_taskLogs=-1,this.lastId_projects=-1,this.lastId_habits=-1,this.lastId_habitLogs=-1,this.appVersion="Lite",this.LS=t,this.LSVersionService=n}dumpToLocalStorage(){var t=new se(Array.from(this.tasks.values()),Array.from(this.taskLogs.values()),Array.from(this.projects.values()),Array.from(this.habits.values()),Array.from(this.habitLogs.values()),this.appVersion),n=this.LSVersionService.getLatestVersion().getExportableData(t);this.LS.setItem(ee.browserDataStorage_0_0_0,n)}loadData(){return new Promise((t,n)=>{try{var r=this.LS.getItem(ee.browserDataStorage_0_0_0);if(r){var a=this.LSVersionService.getVersionFromString(r.lsVersion).read(r);this.replaceData(a),t(a);return}else{var s=this.LSVersionService.getLatestVersion(),a=s.setup();t(a);return}}catch{n("Browser Data failed to load")}})}replaceData(t){t.tasks.forEach(n=>{this.tasks.set(n.id,n)}),t.taskLogs.forEach(n=>{this.taskLogs.set(n.id,n)}),t.projects.forEach(n=>{this.projects.set(n.id,n)}),t.habits.forEach(n=>{this.habits.set(n.id,n)}),t.habitLogs.forEach(n=>{this.habitLogs.set(n.id,n)}),this.lastId_tasks=this.findLastIndex(this.tasks),this.lastId_taskLogs=this.findLastIndex(this.taskLogs),this.lastId_projects=this.findLastIndex(this.projects),this.lastId_habits=this.findLastIndex(this.habits),this.lastId_habitLogs=this.findLastIndex(this.habitLogs)}findLastIndex(t){var n=-1;return t.forEach((r,s)=>{s>n&&(n=s)}),n}createProject(t){let n=new Oe(++this.lastId_projects,t,[]);return this.projects.set(n.id,n),n}getProjectByName(t){let n=[...this.projects.values()].filter(r=>r.name==t);return n.length>0?n[0]:!1}getProjectByNameOrCreate(t){let n=this.getProjectByName(t);return n||this.createProject(t)}updateProject(t){return this.projects.has(t.id)?(this.projects.set(t.id,t),!0):!1}createTask(t,n,r){let s=new Ae(++this.lastId_tasks,n,r,t);return this.tasks.set(s.id,s),s}getAllTasksOfProject(t){let n=[...this.tasks.values()].filter(r=>r.projectId==t);return n.length>0?n:!1}updateTask(t){return this.tasks.has(t.id)?(this.tasks.set(t.id,t),!0):!1}createHabit(t){return t.id=++this.lastId_habits,this.habits.set(t.id,t),t}updateHabit(t){return this.habits.has(t.id)?(this.habits.set(t.id,t),!0):!1}createTaskLog(t){return t.id=++this.lastId_taskLogs,this.taskLogs.set(t.id,t),t}createHabitLog(t){t.id=++this.lastId_habitLogs,this.habitLogs.set(t.id,t);let n=this.habits.get(t.habitId);return n.lastLogTime=t.dateTime,this.habits.set(n.id,n),t}newTask(t){return new Promise((n,r)=>{t.dateTime=new Date(t.dateTime).getTime(),t.project=t.project.trim(),t.summary=t.summary.trim();let s=this.getProjectByNameOrCreate(t.project),a=this.createTask(t.summary,s.id,-1),l=new be(-1,a.id,J.PENDING,t.dateTime),V=this.createTaskLog(l);this.dumpToLocalStorage(),n(s&&a&&V?{task:a,log:V,project:s}:!1)})}editTask(t){return new Promise((n,r)=>{let s=this.updateTask(t);this.dumpToLocalStorage(),n(s)})}toggleTask(t,n,r){return new Promise((s,a)=>{let l=new be(-1,t,n,new Date(r).getTime()),V=this.createTaskLog(l);this.dumpToLocalStorage(),s(V)})}newHabit(t){return new Promise((n,r)=>{(t.days>7||t.days<1||t.name.length<=0)&&n(!1),t.endTime=new Date(t.endTime).getTime(),t.lastLogTime=new Date(t.lastLogTime).getTime(),t.startTime=new Date(t.startTime).getTime();let s=this.createHabit(t);this.dumpToLocalStorage(),n(s)})}editHabit(t){return new Promise((n,r)=>{let s=this.updateHabit(t);this.dumpToLocalStorage(),n(s?t:!1)})}habitDone(t,n){return new Promise((r,s)=>{let a=this.habits.get(t),l=new Date(a.lastLogTime),V=new Date;if(V.getFullYear()==l.getFullYear()&&V.getMonth()==l.getMonth()&&V.getDate()==l.getDate())s(!1);else{let Ve=new Fe(-1,t,n),Ie=this.createHabitLog(Ve);this.dumpToLocalStorage(),r(Ie??!1)}})}deleteHabit(t){throw new Error("Method not implemented.")}editProject(t){return new Promise((n,r)=>{this.getProjectByName(t.name)&&n(!1);let a=this.updateProject(t);this.dumpToLocalStorage(),n(a)})}exportData(t){throw new Error("Method not implemented.")}};e.\u0275fac=function(n){return new(n||e)(ne(xe),ne(At))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var C=(()=>{let e=class e{constructor(t,n,r){this.foldedProjects=new Map,this.defaultTab=oe.TaskLogs,this.dataProfile=!0,this.idleTolerance=500,this.shortcutsEnabled=!0,this.tasks=new Map,this.habits=new Map,this.projects=new Map,this.logs=new Map,this.habitLogs=new Map,this.logTree=new Map,this.orderredTree=[],this.projectTree=new Map,this.stateChanged=new O,this.stateChanged$=this.stateChanged.asObservable(),this.loadPercent=new O,this.loading$=this.loadPercent.asObservable(),this.localStorage=r,t.comsCheck(!1)?this.comService=t:this.comService=n}notifyStateChange(){this.stateChanged.next(this)}getLogTreeAsOrderredList(){return this.orderredTree}getProjectTree(){return this.projectTree}growTrees(){this.orderredTree=[];var t=new Map,n=[...this.logs.values()];n.forEach(s=>{let a=this._getDateStr(new Date(s.dateTime)),l=this.tasks.get(s.taskId),V=this.projects.get(l.projectId);this.logTree.has(a)||this.logTree.set(a,new Map),this.logTree.get(a)?.has(V.id)||this.logTree.get(a)?.set(V.id,new Map),this.logTree.get(a)?.get(l.projectId)?.set(l.id,s),this._populateOrderredTree(a,this.logTree.get(a)),s.statusId==J.PENDING?t.set(l,s):t.delete(l),this.projectTree.has(V.id)||this.projectTree.set(V.id,new Map),this.projectTree.get(V.id)?.set(l.id,s.statusId)});let r=this._getDateStr(new Date);t.forEach((s,a)=>{this.logTree.has(r)||this.logTree.set(r,new Map),this.logTree.get(r)?.has(a.projectId)||this.logTree.get(r)?.set(a.projectId,new Map),this.logTree.get(r)?.get(a.projectId)?.set(a.id,s),this._populateOrderredTree(r,this.logTree.get(r))})}_getDateStr(t){let n=t.getFullYear(),r=t.getMonth(),s=t.getDate();return`${n},${r},${s}`}_populateOrderredTree(t,n){if(this.orderredTree.length<=0){this.orderredTree.push([t,n]);return}this.orderredTree[this.orderredTree.length-1][0]!=t?this.orderredTree.push([t,n]):this.orderredTree[this.orderredTree.length-1][1]=n}logsExist(){return this.logs.size>0}toggleFold(t){var n=this.foldedProjects.get(t)??!1;this.foldedProjects.set(t,!n);var r=JSON.stringify(Array.from(this.foldedProjects.entries()));return localStorage.setItem(ee.foldedProjects_2_1_0,r),!n}getTask(t){return this.tasks.get(t)}newTask(t){this.comService.newTask(t).then(n=>{if(n==!1){console.error("invalid data");return}this.tasks.set(n.task.id,n.task),this.projects.set(n.project.id,n.project),this.logs.set(n.log.id,n.log),this.growTrees(),this.notifyStateChange()},n=>{console.error("server error while adding new task")})}toggleTask(t,n,r){this.comService.toggleTask(t,n,r).then(s=>{if(s==!1){console.error("invalid data");return}s=s,this.logs.set(s.id,s);let a=this.logTree.get(this._getDateStr(new Date)),l=this.tasks.get(t),V=this.projects.get(l.projectId);a?.get(V.id).set(l.id,s),this.orderredTree[this.orderredTree.length-1][1].get(V.id).set(l.id,s),this.notifyStateChange()},s=>{console.error("server error while updating task")})}editTask(t){this.comService.editTask(t).then(n=>{if(n==!1){console.error("Something went wrong while editing task");return}else this.tasks.set(t.id,t),this.notifyStateChange()},n=>{console.error("Unable to edit Task due to an internal error")})}getProject(t){return this.projects.get(t)}editProject(t){this.comService.editProject(t).then(n=>{if(n==!1){console.error("Something went wrong while editing project");return}else this.projects.set(t.id,t),this.notifyStateChange()},n=>{console.error("Unable to edit Project due to an internal error")})}getHabit(t){return this.habits.get(t)}newHabit(t,n,r=Date.now(),s=1/0){var a={id:-1,name:t,days:n,startTime:r,endTime:s};this.comService.newHabit(a).then(l=>{if(l==!1){console.error("Habit create invalid");return}else l=l,this.habits.set(l.id,l),this.notifyStateChange()},l=>{console.error("server errored while adding habit",l)})}editHabit(t){this.comService.editHabit(t).then(n=>{if(n==!1){console.error("Habit edit invalid");return}else n=n,this.habits.set(n.id,n),this.notifyStateChange()},n=>{console.error("server errored while editing habit",n)})}markHabitDone(t){this.comService.habitDone(t.id,Date.now()).then(n=>{if(n==!1){console.error("Unable to mark Habit as done due to some error");return}else n=n,this.habitLogs.set(n.id,n),this.habits.get(n.habitId).lastLogTime=n.dateTime,this.notifyStateChange()},n=>{console.error("server error while updating habit",n)})}getHabitsDueOn(t){var n=new Map;for(let[s,a]of this.habits){var r=new Date(a.lastLogTime);r.getFullYear()!=t.getFullYear()||r.getMonth()!=t.getMonth()||r.getDate()!=t.getDate()?n.set(s,a):n.delete(s)}return n}loadData(){this.loadPercent.next(10),this.comService.loadData().then(t=>{if(t==!1){this.replaceData(),this.loadPercent.next(100);return}else{console.log("data received from db"),this.loadPercent.next(33),this.replaceData(t.tasks,t.taskLogs,t.projects,t.habits,t.habitLogs,t.appVersion),this.loadPercent.next(66);try{let n=JSON.parse(this.localStorage.getItem(ee.foldedProjects_2_1_0)??"[]"),r=new Map(n);this.foldedProjects=r,this.loadPercent.next(82)}catch{console.log("folded Projects were unreadable, reverting to default."),this.localStorage.removeItem(ee.foldedProjects_2_1_0),this.foldedProjects=new Map,this.loadPercent.next(95)}finally{this.loadPercent.next(100)}}}).catch(t=>{console.error("server error while loading data"),this.replaceData(),this.loadPercent.next(100)})}replaceData(t=[],n=[],r=[],s=[],a=[],l=""){this.appVersion=l,this.logs=new Map,this.tasks=new Map,this.habits=new Map,this.projects=new Map,this.habitLogs=new Map;for(var V of n)this.logs.set(V.id,V);for(var Ve of t)this.tasks.set(Ve.id,Ve);for(var Ie of s)this.habits.set(Ie.id,Ie);for(var pt of r)this.projects.set(pt.id,pt);for(var mt of a)this.habitLogs.set(mt.id,mt);this.growTrees(),this.notifyStateChange()}exportData(){return this.comService.exportData(this.logTree)}};e.\u0275fac=function(n){return new(n||e)(ne(Pe),ne(xt),ne(xe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Lt=(()=>{let e=class e{constructor(){this.bindings=new Map,this.keyStrings=new Map,this.bindings.set(k.MainMenu,"window:keydown.alt.shift.m"),this.keyStrings.set(k.MainMenu,"Alt Shift M"),this.bindings.set(k.NewEntry,"window:keydown.alt.shift.n"),this.keyStrings.set(k.NewEntry,"Alt Shift N"),this.bindings.set(k.ShiftToHabitsTab,"window:keydown.alt.shift.h"),this.keyStrings.set(k.ShiftToHabitsTab,"Alt Shift H"),this.bindings.set(k.ShiftToLogsTab,"window:keydown.alt.shift.l"),this.keyStrings.set(k.ShiftToLogsTab,"Alt Shift L"),this.bindings.set(k.ShiftToProjectsTab,"window:keydown.alt.shift.p"),this.keyStrings.set(k.ShiftToProjectsTab,"Alt Shift P")}getShortcut(t){return this.bindings.get(t)??""}getKeyString(t){return this.keyStrings.get(t)??""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ne=(()=>{let e=class e{constructor(){this.hint=new O,this.hintRequested$=this.hint.asObservable(),this.hider=new O,this.hideHintRequested$=this.hider.asObservable()}showHint(t){this.hint.next(t)}hideHint(){this.hider.next()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ti(i,e){if(i&1){let o=P();u(0,"li",9),m("onSus",function(){w(o);let n=y();return S(n.showLogShortcutHint())})("onNonSus",function(){w(o);let n=y();return S(n.hideHint())}),re(),u(1,"svg",10),_(2,"path",11),c(),v(3," LOGS "),c()}if(i&2){let o=y();D("flashed",o.flashedButton=="/logs")}}function Ei(i,e){if(i&1){let o=P();u(0,"li",12),m("onSus",function(){w(o);let n=y();return S(n.showHabitShortcutHint())})("onNonSus",function(){w(o);let n=y();return S(n.hideHint())}),re(),u(1,"svg",13),_(2,"path",14)(3,"path",15),c(),v(4," HABITS "),c()}if(i&2){let o=y();D("flashed",o.flashedButton=="/habits")}}function ji(i,e){if(i&1){let o=P();u(0,"li",16),m("onSus",function(){w(o);let n=y();return S(n.showProjectsShortcutHint())})("onNonSus",function(){w(o);let n=y();return S(n.hideHint())}),re(),u(1,"svg",17),_(2,"path",18),c(),v(3," PROJECTS "),c()}if(i&2){let o=y();D("flashed",o.flashedButton=="/projects")}}var He=(()=>{let e=class e{constructor(t,n,r,s){this.uiStateService=t,this.router=n,this.keyBinds=r,this.hintingService=s,this.appLoadPercent=0,this.menuVisible=!0,this.ebs=je,this.exportButtonState=je.Idle,this.flashedButton="",this.idleTime=0,this.idleTolerance=500,this.idleTolerance=this.uiStateService.idleTolerance,this.loadStateObserver=this.uiStateService.loading$.subscribe(a=>{a!=100?this.appLoadPercent=a:setTimeout(()=>{this.appLoadPercent=a},2e3)}),yt(()=>{this.enableIdleTracking()})}enableIdleTracking(){["mousemove","mousedown","drag","keypress","keydown","scroll"].forEach(t=>{document.addEventListener(t,()=>{this.idleTime=0})}),setInterval(()=>{this.idleTime=++this.idleTime,this.idleTime>=this.idleTolerance&&this.idleTolerance>=-1&&!this.menuVisible&&(this.menuVisible=!0,console.info("MenuBar on idle"))},1e3),console.info("Idle tracking enabled")}toggleMenuBar(t=null){this.menuVisible=t??!this.menuVisible}showMenuShortcutHint(){this.hintingService.showHint(this.keyBinds.getKeyString(k.MainMenu))}showLogShortcutHint(){this.hintingService.showHint(this.keyBinds.getKeyString(k.ShiftToLogsTab))}showProjectsShortcutHint(){this.hintingService.showHint(this.keyBinds.getKeyString(k.ShiftToProjectsTab))}showHabitShortcutHint(){this.hintingService.showHint(this.keyBinds.getKeyString(k.ShiftToHabitsTab))}hideHint(){this.hintingService.hideHint()}menuBarShortcut(t){this.uiStateService.shortcutsEnabled&&(t?.preventDefault(),this.toggleMenuBar())}tabShortcut(t,n){this.uiStateService.shortcutsEnabled&&(n?.preventDefault(),this.flashedButton=t,this.toggleMenuBar(!0),setTimeout(()=>{this.router.navigate([t]),this.toggleMenuBar(!1),setTimeout(()=>{this.flashedButton=""})},500))}exportData(t){this.toggleMenuBar(),this.exportButtonState=this.ebs.Waiting,this.uiStateService.exportData().then(r=>{switch(this.exportButtonState=r==!0?this.ebs.Success:this.ebs.Failure,r){case!0:this.exportButtonState=this.ebs.Success,t.title="Export Complete";break;case!1:this.exportButtonState=this.ebs.Failure,t.title="the previous export action was cancelled";break;case"noAccess":this.exportButtonState=this.ebs.Failure,t.title="proTracker doesn't have access to the file at the moment";break;case"exportException":this.exportButtonState=this.ebs.Failure,t.title="an unhandled error occurred";break;default:this.exportButtonState=this.ebs.Idle,t.title="";break}setTimeout(()=>{this.exportButtonState=this.ebs.Idle},2e3)},r=>{t.title="Fatal error",this.exportButtonState=this.ebs.Failure,console.error("Unhandled Error occurred on Data Export",r),setTimeout(()=>{this.exportButtonState=this.ebs.Idle},2e3)})}};e.\u0275fac=function(n){return new(n||e)(d(C),d(de),d(Lt),d(Ne))},e.\u0275cmp=f({type:e,selectors:[["pui-main-menu"]],hostBindings:function(n,r){n&1&&m("keydown.alt.shift.m",function(a){return r.menuBarShortcut(a)},!1,R)("keydown.alt.shift.l",function(a){return r.tabShortcut("/logs",a)},!1,R)("keydown.alt.shift.p",function(a){return r.tabShortcut("/projects",a)},!1,R)("keydown.alt.shift.h",function(a){return r.tabShortcut("/habits",a)},!1,R)},standalone:!0,features:[g],decls:14,vars:7,consts:[["susStuff","","id","side_handle",3,"onSus","onNonSus","click"],["id","side_bar",3,"click"],[1,"menu","container"],[1,"menu_buttons"],["susStuff","","id","logChart","class","menu_button","routerLink","/logs","routerLinkActive","active",3,"flashed","onSus","onNonSus",4,"ngIf"],["susStuff","","id","habits","class","menu_button","routerLink","/habits","routerLinkActive","active",3,"flashed","onSus","onNonSus",4,"ngIf"],["susStuff","","id","projects","class","menu_button","routerLink","/projects","routerLinkActive","active",3,"flashed","onSus","onNonSus",4,"ngIf"],[1,"menu_title",2,"display","flex"],[3,"percent"],["susStuff","","id","logChart","routerLink","/logs","routerLinkActive","active",1,"menu_button",3,"onSus","onNonSus"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-list-ul"],["fill-rule","evenodd","d","M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["susStuff","","id","habits","routerLink","/habits","routerLinkActive","active",1,"menu_button",3,"onSus","onNonSus"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar3-week"],["d","M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"],["d","M12 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-5 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m2-3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-5 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2"],["susStuff","","id","projects","routerLink","/projects","routerLinkActive","active",1,"menu_button",3,"onSus","onNonSus"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-folder"],["d","M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"]],template:function(n,r){n&1&&(u(0,"div",0),m("onSus",function(){return r.showMenuShortcutHint()})("onNonSus",function(){return r.hideHint()})("click",function(){return r.toggleMenuBar()}),v(1,"..."),c(),u(2,"aside",1),m("click",function(){return r.toggleMenuBar()}),u(3,"div",2)(4,"ul",3),M(5,Ti,4,2,"li",4)(6,Ei,5,2,"li",5)(7,ji,4,2,"li",6),c(),u(8,"div",7)(9,"h1"),v(10,"proTracker"),c(),u(11,"p"),v(12),c(),_(13,"pui-loader",8),c()()()),n&2&&(h(2),D("side_bar_open",r.menuVisible),h(3),p("ngIf",r.appLoadPercent==100),h(),p("ngIf",r.appLoadPercent==100),h(),p("ngIf",r.appLoadPercent==100),h(5),H(r.uiStateService.appVersion),h(),p("percent",r.appLoadPercent))},dependencies:[he,Te,Ee,L,jt,Pt],styles:["#side_handle[_ngcontent-%COMP%]{position:fixed;left:0;top:50%;transform:translateY(-50%) rotate(90deg);padding:0 1%;font-size:2em;cursor:pointer;-webkit-user-select:none;user-select:none;z-index:2000;transition:.25s ease-out}#side_handle[_ngcontent-%COMP%]:hover{color:var(--fg-strong);transition:.1s ease-out}#side_bar[_ngcontent-%COMP%]{transition:opacity .5s ease,visibility 0s .5s;width:100vw;height:100vh;position:fixed;top:0%;left:0vw;z-index:100;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--blackLayer2);display:flex;visibility:hidden;opacity:0;text-align:center;justify-content:center}#side_bar.side_bar_open[_ngcontent-%COMP%]{transition:opacity .5s ease,visibility 0s;opacity:1;visibility:visible}#side_bar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:space-between;transition:.5s ease-in-out}.menu_buttons[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.menu_button[_ngcontent-%COMP%]{text-align:left;cursor:pointer;padding:.5em 2em;border:2px solid transparent;background-color:transparent;transition:.1s ease-out,border-left 0s ease-out,color .25s ease-out;-webkit-user-select:none;user-select:none}.menu_button[_ngcontent-%COMP%]:hover, .menu_button[_ngcontent-%COMP%]:focus, .menu_button.flashed[_ngcontent-%COMP%]{border-left:2px solid var(--whiteLayer3);background-color:var(--whiteLayer1);transition:.05s ease-out,border-left 0s ease-out,opacity .5s ease,visibility 0s,display 0s;outline:none;color:var(--fg-strong)}.menu_button[_ngcontent-%COMP%]:active{border-left:2px solid green;transition:border-left none}.menu_button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .menu_button[_ngcontent-%COMP%]   .spinner-grow[_ngcontent-%COMP%]{margin-right:1em;font-size:1.25em;width:1em;height:1em;opacity:1;visibility:visible;transition:inherit,opacity .5s ease,visibility 0s,display 0s}.menu_button[_ngcontent-%COMP%]   *.hidden[_ngcontent-%COMP%]{display:none;opacity:0;visibility:hidden;transition:inherit,opacity .5s ease,visibility 0s .5s,display 0s .5s;color:transparent}.menu_button[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--green)}.menu_button[_ngcontent-%COMP%]   .failure[_ngcontent-%COMP%]{color:var(--red)}.menu_title[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;align-items:center;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;text-align:center;justify-content:center}"]});let i=e;return i})();var zt=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(d(Ye),d(ve))},e.\u0275dir=j({type:e});let i=e;return i})(),Qt=(()=>{let e=class e extends zt{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(e)))(r||e)}})(),e.\u0275dir=j({type:e,features:[G]});let i=e;return i})(),ot=new ce("");var Pi={provide:ot,useExisting:ie(()=>te),multi:!0};function Fi(){let i=Xe()?Xe().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Oi=new ce(""),te=(()=>{let e=class e extends zt{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Fi())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(d(Ye),d(ve),d(Oi,8))},e.\u0275dir=j({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&m("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[q([Pi]),G]});let i=e;return i})();function Se(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var Ue=new ce(""),Ai=new ce("");function xi(i){return e=>{if(Se(e.value)||Se(i))return null;let o=parseFloat(e.value);return!isNaN(o)&&o<i?{min:{min:i,actual:e.value}}:null}}function Li(i){return e=>{if(Se(e.value)||Se(i))return null;let o=parseFloat(e.value);return!isNaN(o)&&o>i?{max:{max:i,actual:e.value}}:null}}function Ni(i){return Se(i.value)?{required:!0}:null}function Ht(i){return null}function Jt(i){return i!=null}function Kt(i){return Vt(i)?ft(i):i}function Yt(i){let e={};return i.forEach(o=>{e=o!=null?T(T({},e),o):e}),Object.keys(e).length===0?null:e}function Zt(i,e){return e.map(o=>o(i))}function Hi(i){return!i.validate}function Xt(i){return i.map(e=>Hi(e)?e:o=>e.validate(o))}function Bi(i){if(!i)return null;let e=i.filter(Jt);return e.length==0?null:function(o){return Yt(Zt(o,e))}}function ei(i){return i!=null?Bi(Xt(i)):null}function Ri(i){if(!i)return null;let e=i.filter(Jt);return e.length==0?null:function(o){let t=Zt(o,e).map(Kt);return _t(t).pipe(gt(Yt))}}function ti(i){return i!=null?Ri(Xt(i)):null}function Bt(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Gi(i){return i._rawValidators}function Ui(i){return i._rawAsyncValidators}function tt(i){return i?Array.isArray(i)?i:[i]:[]}function Re(i,e){return Array.isArray(i)?i.includes(e):i===e}function Rt(i,e){let o=tt(e);return tt(i).forEach(n=>{Re(o,n)||o.push(n)}),o}function Gt(i,e){return tt(e).filter(o=>!Re(i,o))}var Ge=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ti(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,o){return this.control?this.control.hasError(e,o):!1}getError(e,o){return this.control?this.control.getError(e,o):null}},it=class extends Ge{get formDirective(){return null}get path(){return null}},Me=class extends Ge{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nt=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Wi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qr=le(T({},Wi),{"[class.ng-submitted]":"isSubmitted"}),me=(()=>{let e=class e extends nt{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(d(Me,2))},e.\u0275dir=j({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&D("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[G]});let i=e;return i})();var Ce="VALID",Be="INVALID",pe="PENDING",we="DISABLED";function $i(i){return(We(i)?i.validators:i)||null}function qi(i){return Array.isArray(i)?ei(i):i||null}function zi(i,e){return(We(e)?e.asyncValidators:i)||null}function Qi(i){return Array.isArray(i)?ti(i):i||null}function We(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var rt=class{constructor(e,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ce}get invalid(){return this.status===Be}get pending(){return this.status==pe}get disabled(){return this.status===we}get enabled(){return this.status!==we}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Rt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Rt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gt(e,this._rawAsyncValidators))}hasValidator(e){return Re(this._rawValidators,e)}hasAsyncValidator(e){return Re(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pe,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=we,this.errors=null,this._forEachChild(t=>{t.disable(le(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(T({},e),{skipPristineCheck:o})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=Ce,this._forEachChild(t=>{t.enable(le(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(T({},e),{skipPristineCheck:o})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ce||this.status===pe)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?we:Ce}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;let o=Kt(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,o={}){this.errors=e,this._updateControlsErrors(o.emitEvent!==!1)}get(e){let o=e;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((t,n)=>t&&t._find(n),this)}getError(e,o){let t=o?this.get(o):this;return t&&t.errors?t.errors[e]:null}hasError(e,o){return!!this.getError(e,o)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new N,this.statusChanges=new N}_calculateStatus(){return this._allControlsDisabled()?we:this.errors?Be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(Be)?Be:Ce}_anyControlsHaveStatus(e){return this._anyControls(o=>o.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){We(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let o=this._parent&&this._parent.dirty;return!e&&!!o&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qi(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qi(this._rawAsyncValidators)}};var ii=new ce("CallSetDisabledState",{providedIn:"root",factory:()=>st}),st="always";function Ji(i,e){return[...e.path,i]}function Ki(i,e,o=st){Zi(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||o==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Xi(i,e),tn(i,e),en(i,e),Yi(i,e)}function Ut(i,e){i.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(e)})}function Yi(i,e){if(e.valueAccessor.setDisabledState){let o=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(o),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(o)})}}function Zi(i,e){let o=Gi(i);e.validator!==null?i.setValidators(Bt(o,e.validator)):typeof o=="function"&&i.setValidators([o]);let t=Ui(i);e.asyncValidator!==null?i.setAsyncValidators(Bt(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();Ut(e._rawValidators,n),Ut(e._rawAsyncValidators,n)}function Xi(i,e){e.valueAccessor.registerOnChange(o=>{i._pendingValue=o,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ni(i,e)})}function en(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ni(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function ni(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function tn(i,e){let o=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(o),e._registerOnDestroy(()=>{i._unregisterOnChange(o)})}function nn(i,e){if(!i.hasOwnProperty("model"))return!1;let o=i.model;return o.isFirstChange()?!0:!Object.is(e,o.currentValue)}function rn(i){return Object.getPrototypeOf(i.constructor)===Qt}function on(i,e){if(!e)return null;Array.isArray(e);let o,t,n;return e.forEach(r=>{r.constructor===te?o=r:rn(r)?t=r:n=r}),n||t||o||null}function Wt(i,e){let o=i.indexOf(e);o>-1&&i.splice(o,1)}function $t(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var sn=class extends rt{constructor(e=null,o,t){super($i(o),zi(t,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),We(o)&&(o.nonNullable||o.initialValueIsDefault)&&($t(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,o={}){this.value=this._pendingValue=e,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(e,o={}){this.setValue(e,o)}reset(e=this.defaultValue,o={}){this._applyFormState(e),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$t(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var an={provide:Me,useExisting:ie(()=>ae)},qt=Promise.resolve(),ae=(()=>{let e=class e extends Me{constructor(t,n,r,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new sn,this._registered=!1,this.name="",this.update=new N,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=on(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),nn(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ki(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,r=n!==0&&Ze(n);qt.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ji(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(d(it,9),d(Ue,10),d(Ai,10),d(ot,10),d(It,8),d(ii,8))},e.\u0275dir=j({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[De.None,"disabled","isDisabled"],model:[De.None,"ngModel","model"],options:[De.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[q([an]),G,_e]});let i=e;return i})();var ln={provide:ot,useExisting:ie(()=>at),multi:!0},at=(()=>{let e=class e extends Qt{writeValue(t){let n=t??"";this.setProperty("value",n)}registerOnChange(t){this.onChange=n=>{t(n==""?null:parseFloat(n))}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(e)))(r||e)}})(),e.\u0275dir=j({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&m("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[q([ln]),G]});let i=e;return i})();function ri(i){return typeof i=="number"?i:parseFloat(i)}var lt=(()=>{let e=class e{constructor(){this._validator=Ht}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Ht,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=j({type:e,features:[_e]});let i=e;return i})(),cn={provide:Ue,useExisting:ie(()=>ct),multi:!0},ct=(()=>{let e=class e extends lt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>ri(t),this.createValidator=t=>Li(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(e)))(r||e)}})(),e.\u0275dir=j({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&ke("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[q([cn]),G]});let i=e;return i})(),un={provide:Ue,useExisting:ie(()=>ut),multi:!0},ut=(()=>{let e=class e extends lt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>ri(t),this.createValidator=t=>xi(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(e)))(r||e)}})(),e.\u0275dir=j({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&ke("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[q([un]),G]});let i=e;return i})(),dn={provide:Ue,useExisting:ie(()=>dt),multi:!0};var dt=(()=>{let e=class e extends lt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ze,this.createValidator=t=>Ni}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(e)))(r||e)}})(),e.\u0275dir=j({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&ke("required",r._enabled?"":null)},inputs:{required:"required"},features:[q([dn]),G]});let i=e;return i})();var hn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=Je({});let i=e;return i})();var fe=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:ii,useValue:t.callSetDisabledState??st}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ke({type:e}),e.\u0275inj=Je({imports:[hn]});let i=e;return i})();function pn(i,e){if(i&1){let o=P();u(0,"span",6),m("click",function(){w(o);let n=y(),r=A(5);return S(n.makeItemEditable(r))}),re(),u(1,"svg",7),_(2,"path",8),c()()}}function mn(i,e){if(i&1){let o=P();u(0,"div",9),m("click",function(){w(o);let n=y();return S(n.contentClick())}),v(1),c()}if(i&2){let o=y();h(),H(o.content)}}function fn(i,e){if(i&1){let o=P();u(0,"span",6),m("click",function(){w(o);let n=y(),r=A(5);return S(n.makeItemEditable(r))}),re(),u(1,"svg",7),_(2,"path",8),c()()}}var B=(()=>{let e=class e{constructor(){this.isButtonOnLeft=!1,this.itemEdited=new N,this.contentClicked=new N,this.itemEditable=!1,this.newContent=""}tryUpdate(){var t=this.newContent.trim();if(t.length<1||t==this.content){this.itemEditable=!1,this.newContent=this.content;return}this.itemEdited.emit(t),this.itemEditable=!1}ngAfterViewInit(){}inputChanged(t){t.blur()}contentClick(){this.contentClicked.emit()}makeItemEditable(t){this.itemEditable=!0,setTimeout(()=>{this.newContent=this.content,t.select()})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["pui-editable-item"]],inputs:{content:"content",isButtonOnLeft:"isButtonOnLeft"},outputs:{itemEdited:"itemEdited",contentClicked:"contentClicked"},standalone:!0,features:[g],decls:7,vars:8,consts:[["editableInput",""],[1,"editable_item"],["class","editable_item_edit_button",3,"click",4,"ngIf"],["class","editable_item_content",3,"click",4,"ngIf"],[1,"editable_item_input"],["type","text",3,"change","blur","ngModelChange","ngModel"],[1,"editable_item_edit_button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-fill"],["d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"],[1,"editable_item_content",3,"click"]],template:function(n,r){if(n&1){let s=P();u(0,"div",1),M(1,pn,3,0,"span",2)(2,mn,2,1,"div",3),u(3,"div",4)(4,"input",5,0),m("change",function(){w(s);let l=A(5);return S(r.inputChanged(l))})("blur",function(){return w(s),S(r.tryUpdate())}),Z("ngModelChange",function(l){return w(s),Y(r.newContent,l)||(r.newContent=l),S(l)}),c()(),M(6,fn,3,0,"span",2),c()}n&2&&(D("editable",r.itemEditable),h(),p("ngIf",!r.itemEditable&&r.isButtonOnLeft),h(),p("ngIf",!r.itemEditable),h(2),D("align_right",r.isButtonOnLeft),K("ngModel",r.newContent),h(2),p("ngIf",!r.itemEditable&&!r.isButtonOnLeft))},dependencies:[fe,te,me,ae,L],styles:["[_nghost-%COMP%], .editable_item_input[_ngcontent-%COMP%]{width:100%}.editable_item[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;display:flex;justify-content:space-between;align-items:center}.editable_item.editable[_ngcontent-%COMP%]   .editable_item_content[_ngcontent-%COMP%], .editable_item[_ngcontent-%COMP%]:not(.editable)   .editable_item_input[_ngcontent-%COMP%]{display:none}.editable_item_content[_ngcontent-%COMP%], .editable_item_input[_ngcontent-%COMP%]{padding:0}.editable_item_input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.editable_item_edit_button[_ngcontent-%COMP%]{color:var(--whiteLayer2);opacity:0;visibility:hidden;cursor:pointer;transition:opacity .1s ease-out,visibility 0s linear .8s;margin-top:auto;margin-bottom:auto}.editable_item[_ngcontent-%COMP%]:hover   .editable_item_edit_button[_ngcontent-%COMP%]{opacity:1;visibility:visible;transition:.1s ease-out,opacity .4s ease-out .8s,visibility 0s linear .8s}.editable_item_edit_button[_ngcontent-%COMP%]:hover, .editable_item_edit_button[_ngcontent-%COMP%]:focus{color:var(--whiteLayer3)}.editable_item_edit_button[_ngcontent-%COMP%]:active{color:var(--fg-weak)}.align_right[_ngcontent-%COMP%]{text-align:right}.pending[_nghost-%COMP%]{color:var(--red)}.completed[_nghost-%COMP%]{color:var(--green)}"]});let i=e;return i})();var oi=(()=>{let e=class e{constructor(t){this.today=new Date,this.uiStateService=t}ngOnInit(){this.today=new Date}editHabit(t){var n=this.habit;n.name=t,this.uiStateService.editHabit(n)}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["pui-habit-item"]],inputs:{habitId:"habitId",habit:"habit"},standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"habit_item"],[3,"itemEdited","content"]],template:function(n,r){n&1&&(u(0,"li",0)(1,"pui-editable-item",1),m("itemEdited",function(a){return r.editHabit(a)}),c()()),n&2&&(h(),p("content",r.habit.name))},dependencies:[B],styles:[".habit_item[_ngcontent-%COMP%]{border:1px solid var(--whiteLayer1);margin-bottom:1rem;margin-top:1rem;padding:.5em 1em;transition:.5s ease-out;border-radius:.5em;display:flex;justify-content:space-between;font-size:1.5em}.habit_item[_ngcontent-%COMP%]:hover{border:1px solid var(--whiteLayer2)}"]});let i=e;return i})();var $e=(()=>{let e=class e{constructor(){this.newHabitFocusTrigger=new O,this.newHabitFocusTriggered$=this.newHabitFocusTrigger.asObservable()}requestFocus(){this.newHabitFocusTrigger.next()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var gn=["newHabitNameInput"],ai=(()=>{let e=class e{constructor(t,n){this.newHabitShortcutService=n,this.uiStateService=t,this.newHabitShortcutListener=n.newHabitFocusTriggered$.subscribe(()=>{this.focusOnHabitField()})}focusOnHabitField(){this.newHabitInput.nativeElement.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{this.newHabitInput.nativeElement.focus()},500)}newHabit(t){!this.newHabitName||!this.newHabitFrequency||this.newHabitName.length<1||this.newHabitFrequency<1||this.newHabitFrequency>7||(this.uiStateService.newHabit(this.newHabitName,this.newHabitFrequency),this.newHabitName=this.newHabitFrequency=void 0,t.blur())}};e.\u0275fac=function(n){return new(n||e)(d(C),d($e))},e.\u0275cmp=f({type:e,selectors:[["pui-new-habit-section"]],viewQuery:function(n,r){if(n&1&&U(gn,5),n&2){let s;W(s=$())&&(r.newHabitInput=s.first)}},standalone:!0,features:[g],decls:7,vars:2,consts:[["newHabitNameInput",""],["newHabitFrequencyInput",""],[1,"new_habit_item"],["type","text","placeholder","I want to ... ?",1,"newHabitTitle",3,"ngModelChange","change","ngModel"],[1,"newHabitFrequencyContainer"],["type","number","min","1","max","7","placeholder","x",1,"new_habit_frequency",3,"ngModelChange","change","ngModel"]],template:function(n,r){if(n&1){let s=P();u(0,"li",2)(1,"input",3,0),Z("ngModelChange",function(l){return w(s),Y(r.newHabitName,l)||(r.newHabitName=l),S(l)}),m("change",function(){w(s);let l=A(2);return S(r.newHabit(l))}),c(),u(3,"div",4)(4,"input",5,1),Z("ngModelChange",function(l){return w(s),Y(r.newHabitFrequency,l)||(r.newHabitFrequency=l),S(l)}),m("change",function(){w(s);let l=A(5);return S(r.newHabit(l))}),c(),v(6," days a week "),c()()}n&2&&(h(),K("ngModel",r.newHabitName),h(3),K("ngModel",r.newHabitFrequency))},dependencies:[fe,te,at,me,ut,ct,ae],styles:[".new_habit_item[_ngcontent-%COMP%]{border:1px solid var(--whiteLayer1);margin-bottom:1em;padding:.5em 1em;transition:.5s ease-out;border-radius:.5em;display:flex;justify-content:space-between;flex-direction:column}.new_habit_item[_ngcontent-%COMP%]:hover{border:1px solid var(--whiteLayer2)}input.new_habit_frequency[_ngcontent-%COMP%]{width:2em;margin-right:1em;text-align:right}"]});let i=e;return i})();var li=(()=>{let e=class e{constructor(t){this.uiStateService=t}habitLog(){this.uiStateService.markHabitDone(this.habit)}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["pui-due-habit-item"]],inputs:{habitId:"habitId",habit:"habit"},standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"due_habit_item",3,"click"]],template:function(n,r){n&1&&(u(0,"li",0),m("click",function(){return r.habitLog()}),v(1),c()),n&2&&(h(),H(r.habit.name))},styles:[".due_habit_item[_ngcontent-%COMP%]{border:1px solid var(--whiteLayer1);margin-bottom:1rem;margin-top:1rem;padding:.5em 1em;transition:.5s ease-out;border-radius:.5em;display:flex;justify-content:space-between;font-size:1.5em;cursor:pointer;background-color:var(--whiteLayer1)}.due_habit_item[_ngcontent-%COMP%]:hover{border:1px solid var(--whiteLayer2);background-color:var(--whiteLayer2)}.due_habit_item[_ngcontent-%COMP%]:active{border:1px solid var(--fg);transition:.1s}"]});let i=e;return i})();function _n(i,e){i&1&&(u(0,"h2"),v(1,"Due Today"),c())}function vn(i,e){if(i&1&&_(0,"pui-due-habit-item",7),i&2){let o=e.$implicit;p("habitId",o.key)("habit",o.value)}}function yn(i,e){if(i&1&&(u(0,"ul",6),M(1,vn,1,2,"pui-due-habit-item",5),z(2,"keyvalue"),c()),i&2){let o=y();h(),p("ngForOf",Q(2,1,o.dueHabits))}}function bn(i,e){i&1&&_(0,"hr")}function Cn(i,e){if(i&1&&_(0,"pui-habit-item",7),i&2){let o=e.$implicit;p("habitId",o.key)("habit",o.value)}}var ci=(()=>{let e=class e{constructor(t,n){this.newHabitShortcutService=n,this.uiStateService=t,this.dueHabits=this.uiStateService.getHabitsDueOn(new Date),this.stateObserver=this.uiStateService.stateChanged$.subscribe(r=>{this.uiStateService=r,this.dueHabits=this.uiStateService.getHabitsDueOn(new Date)})}newHabitShortcut(t){this.uiStateService.shortcutsEnabled&&(t?.preventDefault(),this.newHabitShortcutService.requestFocus())}};e.\u0275fac=function(n){return new(n||e)(d(C),d($e))},e.\u0275cmp=f({type:e,selectors:[["pui-tabs-habit"]],hostBindings:function(n,r){n&1&&m("keydown.alt.shift.n",function(a){return r.newHabitShortcut(a)},!1,R)},standalone:!0,features:[g],decls:11,vars:6,consts:[[1,"menu_tab","habitTab"],[1,"container"],[4,"ngIf"],["class","pending_habits",4,"ngIf"],[1,"habit_list"],[3,"habitId","habit",4,"ngFor","ngForOf"],[1,"pending_habits"],[3,"habitId","habit"]],template:function(n,r){n&1&&(u(0,"div",0)(1,"main",1)(2,"h1"),v(3,"HABITS"),c(),M(4,_n,2,0,"h2",2)(5,yn,3,3,"ul",3)(6,bn,1,0,"hr",2),u(7,"ul",4),M(8,Cn,1,2,"pui-habit-item",5),z(9,"keyvalue"),c(),_(10,"pui-new-habit-section"),c()()),n&2&&(h(4),p("ngIf",r.dueHabits.size>0),h(),p("ngIf",r.dueHabits.size>0),h(),p("ngIf",r.dueHabits.size>0),h(2),p("ngForOf",Q(9,4,r.uiStateService.habits)))},dependencies:[x,E,L,X,oi,li,ai],styles:[".habit_list[_ngcontent-%COMP%], .pending_habits[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]});let i=e;return i})();var ze=class{constructor(e,o,t,n){this.id=e,this.dateTime=o,this.project=t,this.summary=n}};var ge=(()=>{let e=class e{constructor(){this.requestedProjectName=new O,this.autoTypeRequested$=this.requestedProjectName.asObservable()}requestAutoType(t){this.requestedProjectName.next(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();var Qe=(()=>{let e=class e{constructor(){this.newLogFocusTrigger=new O,this.newLogFocusTriggered$=this.newLogFocusTrigger.asObservable()}requestFocus(){this.newLogFocusTrigger.next()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var wn=["newLogTask"],Sn=["newLogProject"],hi=(()=>{let e=class e{constructor(t,n,r,s){this.newLogShortcutService=s,this.logsExist=!1,this.newProjectValue="",this.newTaskValue="",this.uiStateService=t,this.eComService=n,this.autoTypeListener=r.autoTypeRequested$.subscribe(a=>{this.autoTypeProject(a)}),this.newLogShortcutListener=s.newLogFocusTriggered$.subscribe(()=>{this.focusOnProjectField()})}trimInput(t){t.value=t.value.trimStart()}newTask(t){if(!(!this.newTaskValue||!this.newProjectValue)){this.newTaskValue=this.newTaskValue.trim(),this.newProjectValue=this.newProjectValue.trim();var n=new ze(-1,new Date().getTime(),this.newProjectValue,this.newTaskValue);this.uiStateService.newTask(n),this.newProjectValue="",this.newTaskValue="",t.blur()}}focusOnProjectField(){this.newProjectInput.nativeElement.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{this.newProjectInput.nativeElement.focus()},500)}focusOnTaskField(){this.newTaskInput.nativeElement.focus()}autoTypeProject(t,n=0){if(n==0&&(this.newProjectValue=""),n>=t.length){this.focusOnTaskField();return}this.newProjectValue+=t[n],setTimeout(()=>{this.autoTypeProject(t,n+1)},25)}};e.\u0275fac=function(n){return new(n||e)(d(C),d(Pe),d(ge),d(Qe))},e.\u0275cmp=f({type:e,selectors:[["pui-new-log-section"]],viewQuery:function(n,r){if(n&1&&(U(wn,5),U(Sn,5)),n&2){let s;W(s=$())&&(r.newTaskInput=s.first),W(s=$())&&(r.newProjectInput=s.first)}},inputs:{logsExist:"logsExist"},standalone:!0,features:[g],decls:13,vars:4,consts:[["inputsArea",""],["newLogProject",""],["newLogTask",""],["id","inputs",1,"log_day","header","inputs"],[1,"log_date"],[1,"days_projects"],[1,"project_row"],[1,"project_column"],["type","text","name","Project","id","newLogProject","required","","title","Parent Task/Project",3,"ngModelChange","input","change","placeholder","ngModel"],[1,"projects_tasks"],[1,"log_task"],["type","text","name","Task","id","newLogTask","title","Task",3,"ngModelChange","input","change","placeholder","ngModel"]],template:function(n,r){if(n&1){let s=P();u(0,"div",3,0),_(2,"div",4),u(3,"div",5)(4,"div",6)(5,"div",7)(6,"div")(7,"input",8,1),Z("ngModelChange",function(l){return w(s),Y(r.newProjectValue,l)||(r.newProjectValue=l),S(l)}),m("input",function(){w(s);let l=A(8);return S(r.trimInput(l))})("change",function(){w(s);let l=A(8);return S(r.newTask(l))}),c()()(),u(9,"div",9)(10,"div",10)(11,"input",11,2),Z("ngModelChange",function(l){return w(s),Y(r.newTaskValue,l)||(r.newTaskValue=l),S(l)}),m("input",function(){w(s);let l=A(12);return S(r.trimInput(l))})("change",function(){w(s);let l=A(12);return S(r.newTask(l))}),c()()()()()()}n&2&&(h(7),ye("placeholder",r.logsExist?"":"Add a New Project"),K("ngModel",r.newProjectValue),h(4),ye("placeholder",r.logsExist?"":"with a new task"),K("ngModel",r.newTaskValue))},dependencies:[fe,te,me,dt,ae],styles:[".log_day[_ngcontent-%COMP%]{width:100%;display:flex;border-bottom:1px solid var(--whiteLayer1);padding:.5em 0}.header[_ngcontent-%COMP%]{border-bottom:2px solid var(--whiteLayer1)!important;font-weight:700;position:sticky;top:0;background-color:var(--bg);z-index:5}.log_date[_ngcontent-%COMP%]{width:15%}.days_projects[_ngcontent-%COMP%]{width:85%;display:flex;flex-direction:column}.project_row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border-radius:.5em;transition:.1s linear}.project_column[_ngcontent-%COMP%]{width:41.1355%;text-align:right;padding:0 .5em}.projects_tasks[_ngcontent-%COMP%]{width:58.82%}.log_task[_ngcontent-%COMP%]{width:100%;transition:.2s ease-out;border-radius:.5em;padding:0 .5em}#inputs[_ngcontent-%COMP%]{padding:0!important;border:none!important}.project_column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:right}"]});let i=e;return i})();var pi=(()=>{let e=class e{constructor(t){this.highlightedTask=-1,this.itIsToday=!1,this.uiStateService=t,this.stateObserver=this.uiStateService.stateChanged$.subscribe(n=>{this.uiStateService=n,this.task=this.uiStateService.getTask(this.taskId)})}ngOnInit(){this.task=this.uiStateService.getTask(this.taskId),this.taskStatus=this.taskLog.statusId}taskClick(){let t=Date.now();var n=this.taskLog.statusId==J.PENDING?J.COMPLETED:J.PENDING;this.itIsToday&&this.uiStateService.toggleTask(this.taskLog.taskId,n,t)}taskEdit(t){var n=T({},this.task);n.summary=t,this.uiStateService.editTask(n)}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["pui-task-row"]],inputs:{taskId:"taskId",taskLog:"taskLog",highlightedTask:"highlightedTask",itIsToday:"itIsToday"},standalone:!0,features:[g],decls:1,vars:9,consts:[[3,"contentClicked","itemEdited","content","id"]],template:function(n,r){if(n&1&&(u(0,"pui-editable-item",0),m("contentClicked",function(){return r.taskClick()})("itemEdited",function(a){return r.taskEdit(a)}),c()),n&2){let s;D("pending",r.taskStatus==1)("completed",r.taskStatus==4)("flashed_task",r.highlightedTask==(r.task==null?null:r.task.id)),St("id","task_row_",r.taskId,""),p("content",(s=r.task==null?null:r.task.summary)!==null&&s!==void 0?s:"ERROR")}},dependencies:[B],styles:[".editable_item:hover,   .editable_item:focus-within{background-color:var(--blackLayer1);transition-delay:.2s}  .editable_item{width:100%;transition:.2s ease-out;border-radius:.5em;padding:0 .5em}  .today .editable_item_content{cursor:pointer}  .flashed_task .editable_item{background-color:var(--whiteLayer1)}"]});let i=e;return i})();function Mn(i,e){if(i&1&&_(0,"pui-task-row",5),i&2){let o=e.$implicit,t=y();p("taskId",o.key)("taskLog",o.value)("highlightedTask",t.highlightedTask)("itIsToday",t.itIsToday)}}var mi=(()=>{let e=class e{constructor(t,n){this.highlightedTask=-1,this.itIsToday=!1,this.uiStateService=t,this.projectAutoTypeService=n,this.stateObserver=this.uiStateService.stateChanged$.subscribe(r=>{this.uiStateService=r,this.project=this.uiStateService.getProject(this.projectId)})}ngOnInit(){this.project=this.uiStateService.getProject(this.projectId)}autoTypeProject(){this.projectAutoTypeService.requestAutoType(this.project?.name??"")}editProject(t){var n=T({},this.project);n.name=t,this.uiStateService.editProject(n)}};e.\u0275fac=function(n){return new(n||e)(d(C),d(ge))},e.\u0275cmp=f({type:e,selectors:[["pui-project-row"]],inputs:{projectId:"projectId",tree:"tree",highlightedTask:"highlightedTask",itIsToday:"itIsToday"},standalone:!0,features:[g],decls:6,vars:5,consts:[[1,"project_row"],[1,"project_column"],[1,"sticky_project_stuff",3,"contentClicked","itemEdited","content","isButtonOnLeft"],[1,"projects_tasks"],[3,"taskId","taskLog","highlightedTask","itIsToday",4,"ngFor","ngForOf"],[3,"taskId","taskLog","highlightedTask","itIsToday"]],template:function(n,r){if(n&1&&(u(0,"div",0)(1,"div",1)(2,"pui-editable-item",2),m("contentClicked",function(){return r.autoTypeProject()})("itemEdited",function(a){return r.editProject(a)}),c()(),u(3,"div",3),M(4,Mn,1,4,"pui-task-row",4),z(5,"keyvalue"),c()()),n&2){let s;h(2),p("content",(s=r.project==null?null:r.project.name)!==null&&s!==void 0?s:"ERROR")("isButtonOnLeft",!0),h(2),p("ngForOf",Q(5,3,r.tree))}},dependencies:[pi,E,x,X,B],styles:[".project_row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border-radius:.5em;transition:.1s linear}.project_column[_ngcontent-%COMP%]{width:41.1355%;text-align:right}  .project_column .editable_item_content{cursor:pointer}.project_column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:right}.sticky_project_stuff[_ngcontent-%COMP%]{position:sticky;top:3em}.projects_tasks[_ngcontent-%COMP%]{width:58.82%}"]});let i=e;return i})();function Vn(i,e){if(i&1&&_(0,"pui-project-row",5),i&2){let o=e.$implicit,t=y();p("projectId",o.key)("tree",o.value)("highlightedTask",t.highlightedTask)("itIsToday",t.itIsToday)}}var fi=(()=>{let e=class e{constructor(){this.logDay="",this.tree=new Map,this.highlightedTask=-1,this.itIsToday=!1,this.id=0,this.displayDate=""}ngOnInit(){let[t,n,r]=this.logDay.split(",").map(V=>Number.parseInt(V,10)),s=new Date(t,n,r),a=new Date().toDateString()==s.toDateString(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.id=s.getTime(),this.itIsToday=a,this.displayDate=a?"Today":`${t} ${l[n]} ${r}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["pui-log-day"]],inputs:{logDay:"logDay",tree:"tree",highlightedTask:"highlightedTask"},standalone:!0,features:[g],decls:7,vars:7,consts:[[1,"log_day",3,"id"],[1,"log_date"],[1,"sticky_date"],[1,"days_projects"],[3,"projectId","tree","highlightedTask","itIsToday",4,"ngFor","ngForOf"],[3,"projectId","tree","highlightedTask","itIsToday"]],template:function(n,r){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),v(3),c()(),u(4,"div",3),M(5,Vn,1,4,"pui-project-row",4),z(6,"keyvalue"),c()()),n&2&&(D("today",r.itIsToday),ye("id",r.id),h(3),H(r.displayDate),h(2),p("ngForOf",Q(6,5,r.tree)))},dependencies:[mi,E,x,X],styles:[".log_day[_ngcontent-%COMP%]{width:100%;display:flex;border-bottom:1px solid var(--whiteLayer1);padding:.5em 0}.log_day.today[_ngcontent-%COMP%]{border-bottom:none}.log_date[_ngcontent-%COMP%]{width:15%}.sticky_date[_ngcontent-%COMP%]{position:sticky;top:3em}.days_projects[_ngcontent-%COMP%]{width:85%;display:flex;flex-direction:column}"]});let i=e;return i})();var In=["scrollAnchor"];function Dn(i,e){if(i&1&&_(0,"pui-log-day",12),i&2){let o=e.$implicit,t=y();p("logDay",o[0])("tree",o[1])("highlightedTask",t.highlightedTask)}}var gi=(()=>{let e=class e{constructor(t,n,r){this.newLogShortcutService=r,this.highlightedTask=-1,this.uiStateService=t,this.router=n}ngOnInit(){this.task&&this.flashTask(this.task),this.scrollTaskIntoView(this.task??-1)}newLogShortcut(t){this.uiStateService.shortcutsEnabled&&(t?.preventDefault(),this.newLogShortcutService.requestFocus())}scrollTaskIntoView(t){setTimeout(()=>{t==-1?this.scrollAnchor.nativeElement.scrollIntoView({behavior:"smooth"}):document.getElementById("task_row_"+t)?.scrollIntoView({behavior:"smooth"})})}flashTask(t){this.highlightedTask=t,setTimeout(()=>{this.highlightedTask=-1},5e3)}};e.\u0275fac=function(n){return new(n||e)(d(C),d(de),d(Qe))},e.\u0275cmp=f({type:e,selectors:[["pui-tabs-log"]],viewQuery:function(n,r){if(n&1&&U(In,5),n&2){let s;W(s=$())&&(r.scrollAnchor=s.first)}},hostBindings:function(n,r){n&1&&m("keydown.alt.shift.n",function(a){return r.newLogShortcut(a)},!1,R)},inputs:{task:"task"},standalone:!0,features:[q([ge]),g],decls:18,vars:2,consts:[["scrollAnchor",""],[1,"menu_tab","log_chart"],[1,"container"],[1,"log_day","header"],[1,"log_date"],[1,"days_projects"],[1,"project_row"],[1,"project_column"],[1,"projects_tasks"],[1,"log_task"],[3,"logDay","tree","highlightedTask",4,"ngFor","ngForOf"],[3,"logsExist"],[3,"logDay","tree","highlightedTask"]],template:function(n,r){n&1&&(u(0,"div",1)(1,"main",2)(2,"h1"),v(3,"LOGS"),c(),u(4,"div",3)(5,"div",4),v(6,"Date"),c(),u(7,"div",5)(8,"div",6)(9,"div",7),v(10,"Project"),c(),u(11,"div",8)(12,"div",9),v(13,"Task"),c()()()()(),M(14,Dn,1,3,"pui-log-day",10),_(15,"pui-new-log-section",11)(16,"div",null,0),c()()),n&2&&(h(14),p("ngForOf",r.uiStateService.getLogTreeAsOrderredList()),h(),p("logsExist",r.uiStateService.logsExist()))},dependencies:[hi,fi,x,E],styles:[".log_chart[_ngcontent-%COMP%]{text-align:left}.log_chart[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:2px solid var(--whiteLayer1)!important;font-weight:700;position:sticky;top:0;background-color:var(--bg);z-index:5}.log_chart[_ngcontent-%COMP%]   .log_day[_ngcontent-%COMP%]{width:100%;display:flex;border-bottom:1px solid var(--whiteLayer1);padding:.5em 0}.log_chart[_ngcontent-%COMP%]   .log_date[_ngcontent-%COMP%]{width:15%}.log_task[_ngcontent-%COMP%]{width:100%;transition:.2s ease-out;border-radius:.5em;padding:0 .5em}.log_day[_ngcontent-%COMP%]:not(#inputs, .header)[_ngcontent-%COMP%]   .log_task[_ngcontent-%COMP%]:hover, .log_day[_ngcontent-%COMP%]:not(#inputs, .header)[_ngcontent-%COMP%]   .log_task[_ngcontent-%COMP%]:focus-within{background-color:var(--blackLayer1);transition-delay:.2s}.days_projects[_ngcontent-%COMP%]{width:85%;display:flex;flex-direction:column}.project_row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border-radius:.5em;transition:.1s linear}.project_column[_ngcontent-%COMP%]{width:41.1355%;text-align:right;padding:0 .5em}.projects_tasks[_ngcontent-%COMP%]{width:58.82%}"]});let i=e;return i})();var _i=(()=>{let e=class e{constructor(t,n){this.uiStateService=t,this.router=n,this.stateObserver=this.uiStateService.stateChanged$.subscribe(r=>{this.uiStateService=r,this.task=this.uiStateService.getTask(this.taskId)})}ngOnInit(){this.task=this.uiStateService.getTask(this.taskId),this.taskStatus=this.statusId}taskEdit(t){var n=T({},this.task);n.summary=t,this.uiStateService.editTask(n)}redirectToLogs(){this.router.navigate(["/logs",{task:this.taskId}])}};e.\u0275fac=function(n){return new(n||e)(d(C),d(de))},e.\u0275cmp=f({type:e,selectors:[["pui-project-task"]],inputs:{taskId:"taskId",statusId:"statusId"},standalone:!0,features:[g],decls:2,vars:5,consts:[[3,"itemEdited","contentClicked","content"]],template:function(n,r){if(n&1&&(u(0,"li")(1,"pui-editable-item",0),m("itemEdited",function(a){return r.taskEdit(a)})("contentClicked",function(){return r.redirectToLogs()}),c()()),n&2){let s;h(),D("pending",r.taskStatus==1)("completed",r.taskStatus==4),p("content",(s=r.task==null?null:r.task.summary)!==null&&s!==void 0?s:"")}},dependencies:[B,he],styles:["[_nghost-%COMP%]{width:100%}li[_ngcontent-%COMP%]{width:100%;margin-top:4px;padding:0 0 0 1em;border-radius:0 .5em .5em 0;border-left:1px solid var(--whiteLayer2)}li[_ngcontent-%COMP%]:hover{background-color:var(--blackLayer1)}  .task_list .editable_item{padding:0 .5em}"]});let i=e;return i})();function kn(i,e){if(i&1&&_(0,"pui-project-task",5),i&2){let o=e.$implicit;p("taskId",o.key)("statusId",o.value)}}function Tn(i,e){if(i&1&&(u(0,"ul",3),M(1,kn,1,2,"pui-project-task",4),z(2,"keyvalue"),c()),i&2){let o=y();h(),p("ngForOf",Q(2,1,o.taskTree))}}var vi=(()=>{let e=class e{constructor(t){this.uiStateService=t,this.stateObserver=this.uiStateService.stateChanged$.subscribe(n=>{this.uiStateService=n,this.project=this.uiStateService.getProject(this.projectId)})}ngOnInit(){this.project=this.uiStateService.getProject(this.projectId),this.foldedProject=this.taskTree.size==0||(this.uiStateService.foldedProjects.get(this.projectId)??!1)}foldProject(){this.foldedProject=this.uiStateService.toggleFold(this.projectId)}editProject(t){var n=T({},this.project);n.name=t,this.uiStateService.editProject(n)}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["pui-project-item"]],inputs:{projectId:"projectId",taskTree:"taskTree"},standalone:!0,features:[g],decls:4,vars:2,consts:[[1,"projectHeader"],[3,"contentClicked","itemEdited","content"],["class","task_list",4,"ngIf"],[1,"task_list"],["class","project_task",3,"taskId","statusId",4,"ngFor","ngForOf"],[1,"project_task",3,"taskId","statusId"]],template:function(n,r){if(n&1&&(u(0,"li")(1,"h3",0)(2,"pui-editable-item",1),m("contentClicked",function(){return r.foldProject()})("itemEdited",function(a){return r.editProject(a)}),c()(),M(3,Tn,3,3,"ul",2),c()),n&2){let s;h(2),p("content",(s=r.project==null?null:r.project.name)!==null&&s!==void 0?s:"ERROR"),h(),p("ngIf",!r.foldedProject)}},dependencies:[B,_i,E,x,L,X],styles:[".task_list[_ngcontent-%COMP%]{transition:.5s;list-style-type:none;padding:0;margin:0;display:flex;flex-wrap:wrap;justify-content:flex-start}.project_task[_ngcontent-%COMP%]{cursor:pointer}.empty_project.task_list[_ngcontent-%COMP%]{display:none}  li h3{margin:0}  li h3 .editable_item_content{cursor:pointer}[_nghost-%COMP%]{margin:.5em .5em 0 0;padding:.5em 1em;border-radius:.5em;width:100%}"]});let i=e;return i})();var En=()=>["/logs"];function jn(i,e){if(i&1&&_(0,"pui-project-item",6),i&2){let o=e.$implicit;p("projectId",o[0])("taskTree",o[1])}}function Pn(i,e){if(i&1&&(u(0,"main",3)(1,"h1"),v(2,"PROJECTS"),c(),u(3,"div")(4,"ul",4),M(5,jn,1,2,"pui-project-item",5),c()()()),i&2){let o=y();h(5),p("ngForOf",o.sortedProjects)}}function Fn(i,e){i&1&&(u(0,"main",7)(1,"h1"),v(2,"PROJECTS"),c(),u(3,"p"),v(4," It looks like you haven't set up a project."),_(5,"br"),v(6," Checkout the "),u(7,"a",8),v(8,"Logs tab"),c(),v(9," to add a new Project with a task "),c()()),i&2&&(h(7),p("routerLink",Mt(1,En)))}var yi=(()=>{let e=class e{constructor(t){this.uiStateService=t,this.stateObserver=this.uiStateService.stateChanged$.subscribe(n=>{this.uiStateService=n,this.sortProjects()})}ngOnInit(){this.sortProjects(),setTimeout(()=>{this.sortProjects()})}sortProjects(){var t=this.uiStateService.getProjectTree().entries(),n=Array.from(t);n.sort((r,s)=>{let a=this.uiStateService.getProject(r[0]),l=this.uiStateService.getProject(s[0]);return a.name.localeCompare(l.name)??0}),this.sortedProjects=n}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["pui-tabs-project"]],standalone:!0,features:[g],decls:3,vars:2,consts:[[1,"menu_tab","projectTab"],["class","container",4,"ngIf"],["class","no_projects",4,"ngIf"],[1,"container"],["id","project_list"],[3,"projectId","taskTree",4,"ngFor","ngForOf"],[3,"projectId","taskTree"],[1,"no_projects"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(n,r){if(n&1&&(u(0,"div",0),M(1,Pn,6,1,"main",1)(2,Fn,10,2,"main",2),c()),n&2){let s,a;h(),p("ngIf",(s=r.sortedProjects.length>0)!==null&&s!==void 0?s:!1),h(),p("ngIf",(a=r.sortedProjects.length<=0)!==null&&a!==void 0?a:!0)}},dependencies:[vi,x,E,L,he,Te,Ee],styles:["#project_list[_ngcontent-%COMP%]{transition:.5s;list-style-type:none;padding:0;margin:0;display:flex;flex-wrap:wrap;justify-content:flex-start}.no_projects[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}"]});let i=e;return i})();var bi=[{path:"menu",title:"mainmenu",component:He},{path:"logs",title:"proTracker | Logs",component:gi},{path:"habits",title:"proTracker | Habits",component:ci},{path:"projects",title:"proTracker | Projects",component:yi},{path:"",redirectTo:"/logs",pathMatch:"full"}];var Ci={providers:[C,Tt(bi,Et()),kt()]};var wi=(()=>{let e=class e{constructor(t){this.hintingService=t,this.isVisible=!1,this.hint="",this.hintListener=this.hintingService.hintRequested$.subscribe(n=>{this.showHint(n)}),this.hideHintListener=this.hintingService.hideHintRequested$.subscribe(()=>{this.hideHint()})}showHint(t){this.clearTimers(),this.hint=t,this.timer1=setTimeout(()=>{this.isVisible=!0},100),this.timer2=setTimeout(()=>{this.isVisible=!1},2e3),this.timer3=setTimeout(()=>{this.hint=""},4e3)}hideHint(){this.clearTimers(),this.isVisible=!1,this.timer1=setTimeout(()=>{this.hint=""},2e3)}clearTimers(){this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2),this.timer3&&clearTimeout(this.timer3)}};e.\u0275fac=function(n){return new(n||e)(d(Ne))},e.\u0275cmp=f({type:e,selectors:[["pui-hint-line"]],standalone:!0,features:[g],decls:2,vars:3,template:function(n,r){n&1&&(u(0,"div"),v(1),c()),n&2&&(D("hidden",!r.isVisible),h(),H(r.hint))},styles:["[_nghost-%COMP%]{margin-top:2em;position:fixed;bottom:1em;left:50%;transform:translate(-50%);font-family:Arial,Helvetica,sans-serif;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;z-index:1000}div[_ngcontent-%COMP%]{padding:1em;transition:.25s ease-out;text-shadow:0px 0px 20px #000;background:radial-gradient(var(--bg) 0%,var(--bg) 70%,transparent 100%)}.hidden[_ngcontent-%COMP%]{transition:1s ease-out;opacity:0%}"]});let i=e;return i})();var On=()=>[import("./chunk-FXRRMSVD.js").then(i=>i.RouterOutlet)];function An(i,e){i&1&&_(0,"router-outlet")}var Si=(()=>{let e=class e{constructor(t){this.title="pUIng",this.logsTab=oe.TaskLogs,this.habitsTab=oe.Habits,this.projectsTab=oe.Projects,this.uiStateService=t}ngOnInit(){setTimeout(()=>{this.uiStateService.loadData()})}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=f({type:e,selectors:[["app-root"]],standalone:!0,features:[g],decls:5,vars:0,template:function(n,r){n&1&&(_(0,"pui-main-menu"),M(1,An,1,0),bt(2,1,On),Ct(),_(4,"pui-hint-line"))},dependencies:[He,E,wi]});let i=e;return i})();Dt(Si,Ci).catch(i=>console.error(i));
